/* CSS Variables - Modern Design System */
:root {
    /* Brand Colors */
    --clara-blue: #20A0D8;
    --clara-blue-dark: #1a8bc0;
    --clara-blue-light: #e8f6fb;

    /* Semantic Colors */
    --success: #34C759;
    --warning: #FFD60A;
    --danger: #FF3B30;

    /* Text Colors */
    --text-primary: #1C1C1E;
    --text-secondary: #8E8E93;
    --text-tertiary: #C7C7CC;

    /* Background Colors */
    --bg-primary: #FFFFFF;
    --bg-secondary: #F2F2F7;
    --bg-tertiary: #E5E5EA;

    /* Legacy aliases (for compatibility) */
    --text-dark: var(--text-primary);
    --background: var(--bg-primary);
    --background-page: var(--bg-secondary);
    --border-light: var(--bg-tertiary);

    /* Shadows - Subtle, layered */
    --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.04);
    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
    --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
    --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);
    --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.16);

    /* Spacing Scale */
    --space-xs: 4px;
    --space-sm: 8px;
    --space-md: 16px;
    --space-lg: 24px;
    --space-xl: 32px;
    --space-2xl: 48px;

    /* Border Radius */
    --radius-xs: 4px;
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 20px;
    --radius-xl: 28px;
    --radius-full: 9999px;

    /* Transitions */
    --transition-fast: 0.15s ease;
    --transition-base: 0.2s ease;
    --transition-slow: 0.3s ease;
}

/* Global Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    height: 100%;
    overflow: hidden;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background-color: var(--background-page);
    height: 100%;
    overflow: hidden;
}

/* Utility Classes */
.hidden {
    display: none !important;
}

/* Main Container */
#main-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: calc(100vh - 100px); /* Account for demo controller */
    gap: 20px;
    padding: 16px;
    transition: all 0.3s ease;
}

#main-container.er-visible {
    justify-content: center;
}

/* Phone Frame */
#phone-frame {
    max-width: 375px;
    width: 100%;
    height: min(650px, calc(100vh - 140px)); /* Scale to fit viewport */
    background-color: var(--bg-primary);
    border-radius: 40px;
    border: 5px solid #1C1C1E;
    box-shadow:
        0 4px 16px rgba(0, 0, 0, 0.1),
        0 12px 40px rgba(0, 0, 0, 0.15),
        inset 0 0 0 1px rgba(255, 255, 255, 0.1);
    overflow: hidden;
    position: relative;
    transition: transform var(--transition-slow);
    flex-shrink: 0;
}

/* Screen Management */
.screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity var(--transition-slow), visibility var(--transition-slow);
    overflow: hidden;
}

.screen.active {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

/* Global Emergency 911 Button - Fixed on all screens */
.emergency-911-global {
    position: absolute;
    top: var(--space-md);
    left: var(--space-md);
    background-color: var(--danger);
    color: white;
    border: none;
    border-radius: var(--radius-full);
    padding: 6px 14px;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 0.5px;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(255, 59, 48, 0.25);
    z-index: 200;
    transition: all var(--transition-base);
}

.emergency-911-global:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(255, 59, 48, 0.35);
}

.emergency-911-global:active {
    transform: scale(0.95);
}

/* Legacy 911 button styles (for any remaining instances) */
.emergency-911 {
    display: none;
}

/* Welcome Screen */
#welcome-screen {
    display: flex;
    flex-direction: column;
    justify-content: safe center;
    align-items: center;
    padding: var(--space-lg);
    background: linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
    overflow-y: auto;
}

.welcome-content {
    text-align: center;
    width: 100%;
    max-width: 320px;
    flex-shrink: 0;
}

.clara-logo {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: var(--space-lg);
}

.logo-icon {
    width: 180px;
    height: 180px;
    margin-top: var(--space-sm);
    margin-bottom: var(--space-sm);
    filter: drop-shadow(0 4px 8px rgba(32, 160, 216, 0.2));
}

.clara-logo h1 {
    font-size: 40px;
    font-weight: 700;
    color: var(--clara-blue);
    margin-bottom: var(--space-xs);
    letter-spacing: -1px;
}

.tagline {
    font-size: 15px;
    color: var(--text-secondary);
    font-weight: 400;
    letter-spacing: 0.3px;
}

.instruction-text {
    font-size: 18px;
    color: var(--text-primary);
    margin-bottom: var(--space-lg);
    font-weight: 500;
    line-height: 1.4;
}

.input-mode-buttons {
    display: flex;
    gap: var(--space-md);
    margin-bottom: var(--space-md);
    justify-content: center;
}

.mode-button {
    min-width: 120px;
    min-height: 90px;
    background-color: var(--clara-blue);
    color: white;
    border: none;
    border-radius: var(--radius-lg);
    padding: var(--space-md);
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-xs);
    box-shadow: var(--shadow-md);
    transition: all var(--transition-base);
}

.mode-button:hover {
    background-color: var(--clara-blue-dark);
    transform: translateY(-3px);
    box-shadow: var(--shadow-lg);
}

.mode-button:active {
    transform: translateY(-1px) scale(0.98);
    box-shadow: var(--shadow-sm);
}

.mode-button .icon {
    width: 32px;
    height: 32px;
    filter: brightness(0) invert(1);
    /* Make SVG white */
}

.mode-button .label {
    font-size: 14px;
    font-weight: 500;
    letter-spacing: 0.3px;
}

.switch-text {
    font-size: 13px;
    color: var(--text-tertiary);
    font-weight: 400;
}

/* Conversation Screen */
#conversation-screen {
    display: flex;
    flex-direction: column;
    background-color: var(--bg-secondary);
}

/* ========================================
   TEXT MODE VIEW
   ======================================== */

.text-mode-view {
    display: flex;
    flex-direction: column;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 56px;
    /* Space for report mini bar */
}

.conversation-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md) var(--space-lg);
    padding-top: calc(var(--space-md) + 36px);
    /* Account for global 911 button */
    background-color: var(--bg-primary);
    box-shadow: var(--shadow-xs);
    min-height: 60px;
    position: relative;
    z-index: 10;
}

.header-spacer {
    width: 40px;
}

/* TTS Toggle Button */
.tts-toggle-btn {
    width: 40px;
    height: 40px;
    background-color: var(--bg-secondary);
    color: var(--text-secondary);
    border: none;
    border-radius: var(--radius-md);
    font-size: 18px;
    cursor: pointer;
    transition: all var(--transition-base);
    display: flex;
    align-items: center;
    justify-content: center;
}

.tts-toggle-btn:hover {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
}

.tts-toggle-btn:active {
    transform: scale(0.95);
}

.header-title {
    flex: 1;
    text-align: center;
    font-size: 17px;
    font-weight: 600;
    color: var(--text-primary);
    letter-spacing: -0.3px;
}

.mode-switch-btn {
    width: 40px;
    height: 40px;
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border: none;
    border-radius: var(--radius-md);
    font-size: 18px;
    cursor: pointer;
    transition: all var(--transition-base);
    display: flex;
    align-items: center;
    justify-content: center;
}

.mode-switch-btn:hover {
    background-color: var(--bg-tertiary);
}

.mode-switch-btn:active {
    transform: scale(0.95);
}

.mode-switch-btn .mode-icon {
    width: 18px;
    height: 18px;
    display: block;
}

/* ========================================
   VOICE MODE VIEW (Full Screen)
   ======================================== */

.voice-mode-view {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 56px;
    /* Space for report mini bar */
    display: flex;
    flex-direction: column;
    background: linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
    z-index: 5;
}

/* Top Bar */
.voice-top-bar {
    display: flex;
    justify-content: flex-end;
    padding: var(--space-md) var(--space-lg);
    padding-top: calc(var(--space-md) + 40px);
    /* Account for 911 button */
}

.voice-mode-switch {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-sm) var(--space-md);
    background-color: var(--bg-secondary);
    border: none;
    border-radius: var(--radius-full);
    font-size: 14px;
    color: var(--text-primary);
    cursor: pointer;
    transition: all var(--transition-base);
}

.voice-mode-switch:hover {
    background-color: var(--bg-tertiary);
}

.voice-mode-switch:active {
    transform: scale(0.95);
}

.voice-mode-switch .switch-label {
    font-weight: 500;
}

.voice-mode-switch .switch-icon {
    width: 16px;
    height: 16px;
    display: block;
}

/* Blob Container */
.voice-blob-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-lg);
    position: relative;
    /* For absolute positioning of photo button */
}

/* Voice Blob */
.voice-blob {
    position: relative;
    width: 140px;
    height: 140px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.blob-core {
    position: absolute;
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, var(--clara-blue) 0%, #1a8bc0 100%);
    border-radius: 50%;
    box-shadow:
        0 4px 20px rgba(32, 160, 216, 0.4),
        inset 0 -4px 10px rgba(0, 0, 0, 0.1),
        inset 0 4px 10px rgba(255, 255, 255, 0.2);
}

.blob-ring {
    position: absolute;
    border-radius: 50%;
    border: 2px solid var(--clara-blue);
    opacity: 0;
}

.blob-ring-1 {
    width: 100px;
    height: 100px;
}

.blob-ring-2 {
    width: 100px;
    height: 100px;
}

.blob-ring-3 {
    width: 100px;
    height: 100px;
}

/* Voice Status Text */
.voice-status-text {
    font-size: 16px;
    color: var(--text-secondary);
    font-weight: 500;
    text-align: center;
}

/* ----------------------------------------
   BLOB STATE: IDLE (Gentle breathing)
   ---------------------------------------- */
.voice-blob.idle .blob-core {
    animation: blobIdle 4s ease-in-out infinite;
}

.voice-blob.idle .blob-ring {
    display: none;
}

@keyframes blobIdle {

    0%,
    100% {
        transform: scale(1);
        opacity: 0.9;
        box-shadow:
            0 4px 20px rgba(32, 160, 216, 0.3),
            inset 0 -4px 10px rgba(0, 0, 0, 0.1),
            inset 0 4px 10px rgba(255, 255, 255, 0.2);
    }

    50% {
        transform: scale(1.05);
        opacity: 1;
        box-shadow:
            0 8px 30px rgba(32, 160, 216, 0.4),
            inset 0 -4px 10px rgba(0, 0, 0, 0.1),
            inset 0 4px 10px rgba(255, 255, 255, 0.2);
    }
}

/* ----------------------------------------
   BLOB STATE: LISTENING (Active, energetic)
   ---------------------------------------- */
.voice-blob.listening .blob-core {
    animation: blobListeningCore 0.8s ease-in-out infinite;
    background: linear-gradient(135deg, #25b5f0 0%, var(--clara-blue) 100%);
    box-shadow:
        0 4px 30px rgba(32, 160, 216, 0.6),
        inset 0 -4px 10px rgba(0, 0, 0, 0.1),
        inset 0 4px 10px rgba(255, 255, 255, 0.3);
}

.voice-blob.listening .blob-ring {
    display: block;
    animation: blobRipple 1.5s ease-out infinite;
}

.voice-blob.listening .blob-ring-2 {
    animation-delay: 0.4s;
}

.voice-blob.listening .blob-ring-3 {
    animation-delay: 0.8s;
}

@keyframes blobListeningCore {

    0%,
    100% {
        transform: scale(1) rotate(0deg);
    }

    25% {
        transform: scale(1.1) rotate(2deg);
    }

    50% {
        transform: scale(0.95) rotate(-2deg);
    }

    75% {
        transform: scale(1.08) rotate(1deg);
    }
}

@keyframes blobRipple {
    0% {
        transform: scale(1);
        opacity: 0.6;
        border-width: 3px;
    }

    100% {
        transform: scale(1.8);
        opacity: 0;
        border-width: 1px;
    }
}

/* ----------------------------------------
   BLOB STATE: RESPONDING (Morphing glow)
   ---------------------------------------- */
.voice-blob.responding .blob-core {
    animation: blobResponding 1.5s ease-in-out infinite;
    background: linear-gradient(135deg, var(--clara-blue) 0%, #6dd5fa 50%, var(--clara-blue) 100%);
    background-size: 200% 200%;
}

.voice-blob.responding .blob-ring {
    display: block;
    border-color: rgba(32, 160, 216, 0.3);
    animation: blobRespondingRing 2s ease-in-out infinite;
}

.voice-blob.responding .blob-ring-1 {
    width: 120px;
    height: 120px;
    opacity: 0.4;
    animation-delay: 0s;
}

.voice-blob.responding .blob-ring-2 {
    width: 140px;
    height: 140px;
    opacity: 0.2;
    animation-delay: 0.3s;
}

.voice-blob.responding .blob-ring-3 {
    display: none;
}

@keyframes blobResponding {

    0%,
    100% {
        transform: scale(1);
        border-radius: 50%;
        background-position: 0% 50%;
        box-shadow:
            0 4px 30px rgba(32, 160, 216, 0.5),
            0 0 60px rgba(32, 160, 216, 0.2);
    }

    33% {
        transform: scale(1.05);
        border-radius: 45% 55% 50% 50%;
        background-position: 50% 50%;
        box-shadow:
            0 6px 35px rgba(32, 160, 216, 0.55),
            0 0 70px rgba(32, 160, 216, 0.25);
    }

    66% {
        transform: scale(0.98);
        border-radius: 55% 45% 50% 50%;
        background-position: 100% 50%;
        box-shadow:
            0 8px 40px rgba(32, 160, 216, 0.6),
            0 0 80px rgba(32, 160, 216, 0.3);
    }
}

@keyframes blobRespondingRing {

    0%,
    100% {
        transform: scale(1);
        opacity: 0.3;
    }

    50% {
        transform: scale(1.08);
        opacity: 0.5;
    }
}

/* ----------------------------------------
   BLOB STATE: PROCESSING (Thinking)
   ---------------------------------------- */
.voice-blob.processing .blob-core {
    animation: blobProcessing 1s linear infinite;
    background: linear-gradient(135deg, var(--clara-blue) 0%, #5ac8fa 100%);
    box-shadow:
        0 4px 25px rgba(32, 160, 216, 0.5),
        inset 0 -4px 10px rgba(0, 0, 0, 0.1),
        inset 0 4px 10px rgba(255, 255, 255, 0.2);
}

.voice-blob.processing .blob-ring {
    display: block;
    border-color: rgba(32, 160, 216, 0.4);
    border-style: dashed;
    animation: blobProcessingRing 2s linear infinite;
}

.voice-blob.processing .blob-ring-1 {
    width: 115px;
    height: 115px;
    opacity: 0.5;
}

.voice-blob.processing .blob-ring-2 {
    width: 130px;
    height: 130px;
    opacity: 0.3;
    animation-direction: reverse;
}

.voice-blob.processing .blob-ring-3 {
    display: none;
}

@keyframes blobProcessing {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(0.95);
    }

    100% {
        transform: scale(1);
    }
}

@keyframes blobProcessingRing {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

/* Voice Status Text States */
.voice-status-text.transcript {
    color: var(--text-primary);
    font-style: italic;
    max-width: 280px;
    word-wrap: break-word;
}

.voice-status-text.error {
    color: var(--danger);
    font-size: 14px;
}

/* Voice Status Text - Sent State */
.voice-status-text.sent {
    color: var(--success);
    font-weight: 600;
}

/* ----------------------------------------
   BLOB STATE: SENT (Checkmark confirmation)
   ---------------------------------------- */
.blob-checkmark {
    position: absolute;
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10;
}

.voice-blob.sent .blob-core {
    animation: blobSent 0.5s ease-out forwards;
    background: linear-gradient(135deg, var(--success) 0%, #2ecc71 100%);
    box-shadow:
        0 4px 30px rgba(52, 199, 89, 0.5),
        inset 0 -4px 10px rgba(0, 0, 0, 0.1),
        inset 0 4px 10px rgba(255, 255, 255, 0.2);
}

.voice-blob.sent .blob-checkmark {
    display: flex;
    animation: checkmarkAppear 0.6s ease-out 0.3s forwards;
    opacity: 0;
}

.voice-blob.sent .blob-ring {
    display: block;
    border-color: var(--success);
    animation: sentRipple 1s ease-out forwards;
}

.voice-blob.sent .blob-ring-2 {
    animation-delay: 0.2s;
}

.voice-blob.sent .blob-ring-3 {
    animation-delay: 0.4s;
}

.checkmark-path {
    stroke-dasharray: 50;
    stroke-dashoffset: 50;
}

.voice-blob.sent .checkmark-path {
    animation: checkmarkDraw 0.5s ease-out 0.4s forwards;
}

@keyframes blobSent {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.15);
    }

    100% {
        transform: scale(1);
    }
}

@keyframes checkmarkAppear {
    0% {
        opacity: 0;
        transform: scale(0.5);
    }

    100% {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes checkmarkDraw {
    0% {
        stroke-dashoffset: 50;
    }

    100% {
        stroke-dashoffset: 0;
    }
}

@keyframes sentRipple {
    0% {
        transform: scale(1);
        opacity: 0.8;
    }

    100% {
        transform: scale(2);
        opacity: 0;
    }
}

/* Voice View Report Button */
.voice-view-report-btn {
    padding: var(--space-xs) var(--space-sm);
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
    background: transparent;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.voice-view-report-btn:hover {
    color: var(--clara-blue);
    border-color: var(--clara-blue);
    background: rgba(32, 160, 216, 0.05);
}

.voice-view-report-btn:active {
    transform: scale(0.98);
}

/* Voice Confirm Hint Card */
.voice-confirm-hint {
    position: absolute;
    bottom: 100px;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: var(--radius-lg);
    padding: var(--space-md);
    box-shadow: var(--shadow-lg);
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-base);
    min-width: 220px;
    z-index: 50;
}

.voice-confirm-hint.visible {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

.hint-header {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: var(--space-sm);
}

.hint-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.hint-list li {
    font-size: 13px;
    color: var(--text-primary);
    padding: var(--space-xs) 0;
    border-bottom: 1px solid var(--border-light);
}

.hint-list li:last-child {
    border-bottom: none;
}

.hint-list li strong {
    color: var(--clara-blue);
}

/* Report Ready Choice Buttons (Text Mode) */
.report-ready-choice {
    display: flex;
    gap: var(--space-sm);
    justify-content: center;
    padding: var(--space-md);
    animation: fadeInUp 0.3s ease forwards;
}

.choice-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-md) var(--space-lg);
    background: var(--bg-primary);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-fast);
    min-width: 120px;
}

.choice-btn:hover {
    border-color: var(--clara-blue);
    background: rgba(32, 160, 216, 0.05);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.choice-btn:active {
    transform: translateY(0);
}

.choice-icon {
    font-size: 24px;
}

.choice-text {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-primary);
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Debug Controls */
.voice-debug {
    position: absolute;
    bottom: 80px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: var(--space-sm);
}

.voice-debug button {
    padding: var(--space-xs) var(--space-sm);
    font-size: 11px;
    background: var(--bg-tertiary);
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
}

/* Chat Area */
.conversation-main {
    flex: 1;
    padding: var(--space-md);
    overflow-y: auto;
    background-color: var(--bg-secondary);
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    scroll-behavior: smooth;
}

/* Message Bubbles */
.message {
    max-width: 85%;
    padding: var(--space-md);
    font-size: 15px;
    line-height: 1.45;
    animation: messageIn 0.3s ease forwards;
}

.message.clara {
    align-self: flex-start;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    border-radius: 18px 18px 18px 4px;
    box-shadow: var(--shadow-xs);
}

.message.user {
    align-self: flex-end;
    background-color: var(--clara-blue);
    color: white;
    border-radius: 18px 18px 4px 18px;
}

@keyframes messageIn {
    from {
        opacity: 0;
        transform: translateY(8px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Typing Indicator */
.typing-indicator {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 12px 16px;
    min-height: auto;
}

.typing-indicator span {
    width: 8px;
    height: 8px;
    background-color: var(--text-tertiary);
    border-radius: 50%;
    animation: typingBounce 1.4s ease-in-out infinite;
}

.typing-indicator span:nth-child(1) {
    animation-delay: 0s;
}

.typing-indicator span:nth-child(2) {
    animation-delay: 0.2s;
}

.typing-indicator span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes typingBounce {

    0%,
    60%,
    100% {
        transform: translateY(0);
        opacity: 0.4;
    }

    30% {
        transform: translateY(-6px);
        opacity: 1;
    }
}

/* Field Notification */
.field-notification {
    align-self: center;
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    font-size: 12px;
    color: var(--success);
    background-color: rgba(52, 199, 89, 0.1);
    border-radius: var(--radius-full);
    margin: 4px 0;
    animation: notificationIn 0.3s ease forwards;
}

.field-notification .notification-icon {
    font-size: 11px;
    font-weight: 600;
}

.field-notification.fade-out {
    animation: notificationOut 0.5s ease forwards;
}

@keyframes notificationIn {
    from {
        opacity: 0;
        transform: translateY(4px) scale(0.95);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes notificationOut {
    from {
        opacity: 1;
    }

    to {
        opacity: 0.5;
    }
}

/* Input Area */
.conversation-input {
    padding: var(--space-md);
    background-color: var(--bg-primary);
    box-shadow: 0 -1px 0 var(--bg-tertiary);
    min-height: 72px;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Text Input Mode */
.text-input-wrapper {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    width: 100%;
}

#message-input {
    flex: 1;
    height: 44px;
    padding: 0 var(--space-md);
    background-color: var(--bg-secondary);
    border: none;
    border-radius: var(--radius-full);
    font-size: 15px;
    color: var(--text-primary);
    outline: none;
    transition: all var(--transition-base);
}

#message-input::placeholder {
    color: var(--text-tertiary);
}

#message-input:focus {
    background-color: var(--bg-tertiary);
    box-shadow: 0 0 0 2px var(--clara-blue-light);
}

.send-btn {
    width: 44px;
    height: 44px;
    background-color: var(--clara-blue);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
    flex-shrink: 0;
}

.send-btn:hover {
    background-color: var(--clara-blue-dark);
    transform: scale(1.05);
}

.send-btn:active {
    transform: scale(0.95);
}

.send-btn svg {
    width: 18px;
    height: 18px;
}

/* ========================================
   Report Card Bottom Sheet
   ======================================== */

/* Sheet Container - Anchored at bottom, grows upward */
.report-sheet {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--bg-primary);
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.08);
    z-index: 50;
    overflow: hidden;
}

/* Mini View */
.report-mini {
    padding: var(--space-md) var(--space-lg);
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;
    user-select: none;
    -webkit-user-select: none;
    position: relative;
    transition: background-color var(--transition-fast);
}

.report-mini:active {
    background-color: var(--bg-secondary);
}

.report-mini.holding {
    background-color: var(--bg-secondary);
}

.report-mini-left {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.report-mini-label {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.report-icon {
    width: 16px;
    height: 16px;
    display: block;
}

.report-mini-status {
    font-size: 12px;
    color: var(--text-secondary);
    font-weight: 400;
}

.report-mini-right {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.report-hold-hint {
    font-size: 11px;
    color: var(--text-tertiary);
    font-weight: 500;
}

.report-expand-icon {
    font-size: 12px;
    color: var(--text-tertiary);
    transition: transform var(--transition-base);
}

.report-sheet.expanded .report-expand-icon {
    transform: rotate(180deg);
}

/* Hold Progress Indicator */
.report-hold-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 2px;
    background-color: var(--clara-blue);
    width: 0;
    transition: width 0.15s linear;
}

.report-mini.holding .report-hold-progress {
    width: 100%;
}

/* Expanded View - Hidden by default, grows upward when expanded */
.report-expanded {
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 0.2s ease-out, opacity 0.15s ease-out;
}

.report-sheet.expanded .report-expanded {
    max-height: 400px;
    overflow-y: auto;
    opacity: 1;
}

.report-expanded-header {
    padding: var(--space-sm) var(--space-lg) var(--space-md);
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--bg-tertiary);
}

.report-expanded-header h3 {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.report-icon-header {
    width: 18px;
    height: 18px;
    display: block;
}

.report-progress {
    font-size: 12px;
    color: var(--text-secondary);
    background-color: var(--bg-secondary);
    padding: 4px 10px;
    border-radius: var(--radius-full);
    font-weight: 500;
}

/* Report Help Text */
.report-help-text {
    margin: 0;
    padding: var(--space-sm) var(--space-lg);
    font-size: 13px;
    color: var(--text-secondary);
    text-align: center;
    background-color: var(--bg-secondary);
    border-bottom: 1px solid var(--bg-tertiary);
}

/* Report Fields */
.report-fields {
    padding: var(--space-sm) 0;
}

.report-field {
    padding: var(--space-sm) var(--space-lg);
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: var(--space-md);
}

.report-field:not(:last-child) {
    border-bottom: 1px solid var(--bg-secondary);
}

.field-content {
    flex: 1;
    min-width: 0;
}

.field-label {
    font-size: 11px;
    font-weight: 500;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 2px;
}

.field-value {
    font-size: 14px;
    color: var(--text-primary);
    font-weight: 500;
    line-height: 1.3;
}

.field-value.empty {
    color: var(--text-tertiary);
}

.field-value.asking {
    color: var(--warning);
    font-style: italic;
}

/* Field Status Indicators */
.field-status {
    flex-shrink: 0;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 14px;
}

.field-status.collected {
    color: var(--success);
}

.field-status.asking {
    color: var(--warning);
}

.field-status.pending {
    color: var(--text-tertiary);
    font-size: 16px;
}

/* Report Footer */
.report-footer {
    padding: var(--space-md) var(--space-lg);
    background-color: var(--bg-secondary);
    border-top: 1px solid var(--bg-tertiary);
}

.report-destination,
.report-eta {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: 13px;
}

.report-destination {
    margin-bottom: var(--space-xs);
}

.destination-icon,
.eta-icon {
    font-size: 14px;
}

.destination-label,
.eta-label {
    color: var(--text-secondary);
    font-weight: 500;
}

.destination-value,
.eta-value {
    color: var(--text-primary);
    font-weight: 500;
}

/* Dim Overlay */
.report-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.3);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
    z-index: 40;
    pointer-events: none;
}

.report-overlay.visible {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

/* ========================================
   CONFIRMATION SCREEN
   ======================================== */

#confirmation-screen {
    display: flex;
    flex-direction: column;
    background-color: var(--bg-secondary);
    height: 100%;
}

/* Confirmation Header */
.confirm-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md) var(--space-lg);
    padding-top: calc(var(--space-md) + 36px);
    /* Account for 911 button */
    background-color: var(--bg-primary);
    box-shadow: var(--shadow-xs);
    min-height: 60px;
    position: relative;
    z-index: 10;
}

.confirm-back-btn {
    display: flex;
    align-items: center;
    gap: 4px;
    background: none;
    border: none;
    color: var(--clara-blue);
    font-size: 15px;
    font-weight: 500;
    cursor: pointer;
    padding: var(--space-xs) 0;
    transition: opacity var(--transition-fast);
}

.confirm-back-btn:hover {
    opacity: 0.7;
}

.confirm-back-btn svg {
    width: 18px;
    height: 18px;
}

.confirm-title {
    font-size: 17px;
    font-weight: 600;
    color: var(--text-primary);
    letter-spacing: -0.3px;
}

.confirm-header-spacer {
    width: 60px;
}

/* Scrollable Content Area */
.confirm-content {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-md);
    padding-bottom: 140px;
    /* Space for fixed buttons */
}

/* Destination Card */
.confirm-destination-card {
    background-color: var(--bg-primary);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: var(--shadow-sm);
    margin-bottom: var(--space-md);
}

.destination-card-content {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.destination-card-icon {
    font-size: 28px;
}

.destination-card-info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.destination-card-name {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
}

.destination-card-name.empty {
    color: var(--text-tertiary);
    font-style: italic;
}

.destination-card-eta {
    font-size: 13px;
    color: var(--text-secondary);
}

.destination-card-edit {
    width: 36px;
    height: 36px;
    background-color: var(--bg-secondary);
    border: none;
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-fast);
}

.destination-card-edit:hover {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
}

/* Warning Message */
.confirm-warning {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background-color: rgba(255, 214, 10, 0.15);
    border-radius: var(--radius-sm);
    margin-bottom: var(--space-md);
}

.warning-icon {
    font-size: 16px;
}

.warning-text {
    font-size: 13px;
    color: var(--text-primary);
    font-weight: 500;
}

/* Report Fields in Confirmation */
.confirm-fields {
    background-color: var(--bg-primary);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    margin-bottom: var(--space-md);
    overflow: hidden;
}

.confirm-field {
    padding: var(--space-md);
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: var(--space-sm);
    border-bottom: 1px solid var(--bg-secondary);
}

.confirm-field:last-child {
    border-bottom: none;
}

.confirm-field-content {
    flex: 1;
    min-width: 0;
}

.confirm-field-label {
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.3px;
    margin-bottom: 4px;
}

.confirm-field-value {
    font-size: 15px;
    color: var(--text-primary);
    font-weight: 500;
    line-height: 1.4;
    word-wrap: break-word;
}

.confirm-field-edit {
    width: 32px;
    height: 32px;
    background: none;
    border: none;
    color: var(--text-tertiary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    flex-shrink: 0;
}

.confirm-field-edit:hover {
    background-color: var(--bg-secondary);
    color: var(--clara-blue);
}

/* Add More Info Button */
.confirm-add-info-btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    background-color: var(--bg-primary);
    border: 2px dashed var(--bg-tertiary);
    border-radius: var(--radius-md);
    color: var(--text-secondary);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
    margin-bottom: var(--space-md);
}

.confirm-add-info-btn:hover {
    border-color: var(--clara-blue);
    color: var(--clara-blue);
    background-color: var(--clara-blue-light);
}

.add-info-icon {
    font-size: 18px;
    font-weight: 600;
}

/* Photos Section in Confirmation */
.confirm-photos-section {
    background-color: var(--bg-primary);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    box-shadow: var(--shadow-sm);
}

.confirm-photos-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-sm);
}

.confirm-photos-label {
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.confirm-photos-count {
    font-size: 12px;
    color: var(--text-secondary);
    background-color: var(--bg-secondary);
    padding: 2px 8px;
    border-radius: var(--radius-full);
}

.confirm-photos-grid {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
    margin-bottom: var(--space-sm);
}

.confirm-photo-item {
    position: relative;
    width: 70px;
}

.confirm-photo-thumb {
    width: 70px;
    height: 70px;
    border-radius: var(--radius-sm);
    object-fit: cover;
    cursor: pointer;
    transition: transform var(--transition-fast);
    box-shadow: var(--shadow-xs);
}

.confirm-photo-thumb:hover {
    transform: scale(1.05);
}

.confirm-photo-desc {
    font-size: 10px;
    color: var(--text-secondary);
    margin-top: 4px;
    text-align: center;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.confirm-add-photo-btn {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-sm) var(--space-md);
    background: none;
    border: 1px dashed var(--bg-tertiary);
    border-radius: var(--radius-sm);
    color: var(--text-secondary);
    font-size: 13px;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.confirm-add-photo-btn:hover {
    border-color: var(--clara-blue);
    color: var(--clara-blue);
}

.confirm-photos-empty {
    font-size: 13px;
    color: var(--text-tertiary);
    padding: var(--space-sm) 0;
}

/* Fixed Bottom Actions */
.confirm-actions {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: var(--space-md);
    background-color: var(--bg-primary);
    box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.08);
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.confirm-send-btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    background-color: var(--clara-blue);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: var(--shadow-md);
    transition: all var(--transition-base);
}

.confirm-send-btn:hover {
    background-color: var(--clara-blue-dark);
    transform: translateY(-1px);
    box-shadow: var(--shadow-lg);
}

.confirm-send-btn:active {
    transform: translateY(0) scale(0.98);
}

.confirm-send-btn.sending {
    background-color: var(--text-secondary);
    pointer-events: none;
}

.confirm-send-btn.sending .send-btn-text::after {
    content: '';
    animation: sendingDots 1.4s infinite;
}

@keyframes sendingDots {

    0%,
    20% {
        content: '';
    }

    40% {
        content: '.';
    }

    60% {
        content: '..';
    }

    80%,
    100% {
        content: '...';
    }
}

.confirm-back-to-chat-btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-sm);
    background: none;
    color: var(--text-secondary);
    border: none;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: color var(--transition-fast);
}

.confirm-back-to-chat-btn:hover {
    color: var(--text-primary);
}

/* ========================================
   REPORT SENT SCREEN
   ======================================== */

#report-sent-screen {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background-color: var(--bg-primary);
    padding: var(--space-xl);
}

.sent-content {
    text-align: center;
    max-width: 300px;
}

.sent-checkmark {
    margin-bottom: var(--space-lg);
}

.sent-checkmark svg {
    width: 80px;
    height: 80px;
}

.checkmark-circle {
    stroke-dasharray: 226;
    stroke-dashoffset: 226;
    animation: checkmarkCircle 0.6s ease-out forwards;
}

.checkmark-check {
    stroke-dasharray: 80;
    stroke-dashoffset: 80;
    animation: checkmarkCheck 0.4s ease-out 0.4s forwards;
}

@keyframes checkmarkCircle {
    to {
        stroke-dashoffset: 0;
    }
}

@keyframes checkmarkCheck {
    to {
        stroke-dashoffset: 0;
    }
}

.sent-title {
    font-size: 24px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--space-xs);
}

.sent-destination {
    font-size: 16px;
    color: var(--clara-blue);
    font-weight: 500;
    margin-bottom: var(--space-md);
}

.sent-message {
    font-size: 15px;
    color: var(--text-secondary);
    margin-bottom: var(--space-lg);
}

.sent-divider {
    width: 60px;
    height: 1px;
    background-color: var(--bg-tertiary);
    margin: 0 auto var(--space-lg);
}

.sent-companion-text {
    font-size: 14px;
    color: var(--text-secondary);
    margin-bottom: var(--space-lg);
    line-height: 1.5;
}

.sent-actions {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.sent-continue-btn {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    background-color: var(--clara-blue);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
}

.sent-continue-btn:hover {
    background-color: var(--clara-blue-dark);
}

.sent-view-btn {
    width: 100%;
    padding: var(--space-sm);
    background: none;
    color: var(--text-secondary);
    border: none;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: color var(--transition-fast);
}

.sent-view-btn:hover {
    color: var(--text-primary);
}

/* ========================================
   REVIEW & SEND BUTTON IN CHAT
   ======================================== */

.review-report-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    width: calc(100% - 32px);
    margin: var(--space-md) auto;
    padding: var(--space-md);
    background-color: var(--clara-blue);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: var(--shadow-md);
    transition: all var(--transition-base);
    animation: reviewBtnIn 0.4s ease forwards;
}

.review-report-btn:hover {
    background-color: var(--clara-blue-dark);
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.review-report-btn:active {
    transform: translateY(0) scale(0.98);
}

@keyframes reviewBtnIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ========================================
   EDIT FIELD MODAL
   ======================================== */

.edit-field-modal {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 500;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity var(--transition-base), visibility var(--transition-base);
}

.edit-field-modal.visible {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

.edit-modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
}

.edit-modal-content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: var(--bg-primary);
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    padding: var(--space-md);
    padding-bottom: calc(var(--space-md) + 20px);
    transform: translateY(100%);
    transition: transform var(--transition-slow);
}

.edit-field-modal.visible .edit-modal-content {
    transform: translateY(0);
}

.edit-modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid var(--bg-tertiary);
}

.edit-modal-title {
    font-size: 17px;
    font-weight: 600;
    color: var(--text-primary);
}

.edit-modal-close {
    width: 32px;
    height: 32px;
    background: none;
    border: none;
    font-size: 24px;
    color: var(--text-tertiary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.edit-modal-close:hover {
    color: var(--text-primary);
}

.edit-modal-options {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.edit-option-btn {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-md);
    background-color: var(--bg-secondary);
    border: none;
    border-radius: var(--radius-md);
    font-size: 15px;
    font-weight: 500;
    color: var(--text-primary);
    cursor: pointer;
    transition: background-color var(--transition-fast);
}

.edit-option-btn:hover {
    background-color: var(--bg-tertiary);
}

.edit-option-icon {
    font-size: 20px;
}

/* ========================================
   MANUAL EDIT MODAL
   ======================================== */

.manual-edit-modal {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 510;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: opacity var(--transition-base), visibility var(--transition-base);
}

.manual-edit-modal.visible {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

.manual-edit-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
}

.manual-edit-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.95);
    width: calc(100% - 48px);
    max-width: 320px;
    background-color: var(--bg-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-md);
    transition: transform var(--transition-base);
}

.manual-edit-modal.visible .manual-edit-content {
    transform: translate(-50%, -50%) scale(1);
}

.manual-edit-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-md);
}

.manual-edit-title {
    font-size: 17px;
    font-weight: 600;
    color: var(--text-primary);
}

.manual-edit-close {
    width: 32px;
    height: 32px;
    background: none;
    border: none;
    font-size: 24px;
    color: var(--text-tertiary);
    cursor: pointer;
}

.manual-edit-body {
    margin-bottom: var(--space-md);
}

.manual-edit-input {
    width: 100%;
    padding: var(--space-md);
    background-color: var(--bg-secondary);
    border: 1px solid var(--bg-tertiary);
    border-radius: var(--radius-md);
    font-size: 15px;
    color: var(--text-primary);
    outline: none;
    transition: border-color var(--transition-fast);
}

.manual-edit-input:focus {
    border-color: var(--clara-blue);
}

.manual-edit-actions {
    display: flex;
    gap: var(--space-sm);
}

.manual-edit-cancel,
.manual-edit-save {
    flex: 1;
    padding: var(--space-sm) var(--space-md);
    border: none;
    border-radius: var(--radius-md);
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.manual-edit-cancel {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
}

.manual-edit-cancel:hover {
    background-color: var(--bg-tertiary);
}

.manual-edit-save {
    background-color: var(--clara-blue);
    color: white;
}

.manual-edit-save:hover {
    background-color: var(--clara-blue-dark);
}

/* ========================================
   MINI CLARA CHAT MODAL
   ======================================== */

.mini-clara-modal {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 520;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    overflow: hidden;
    transition: opacity var(--transition-base), visibility var(--transition-base);
}

.mini-clara-modal.visible {
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
}

.mini-clara-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
}

.mini-clara-content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%;
    max-height: 350px;
    background-color: var(--bg-primary);
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    display: flex;
    flex-direction: column;
    transform: translateY(100%);
    transition: transform var(--transition-slow);
}

.mini-clara-modal.visible .mini-clara-content {
    transform: translateY(0);
}

.mini-clara-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md);
    border-bottom: 1px solid var(--bg-tertiary);
}

.mini-clara-title {
    font-size: 17px;
    font-weight: 600;
    color: var(--text-primary);
}

.mini-clara-close {
    width: 32px;
    height: 32px;
    background: none;
    border: none;
    font-size: 24px;
    color: var(--text-tertiary);
    cursor: pointer;
}

.mini-clara-messages {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-md);
    background-color: var(--bg-secondary);
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.mini-message {
    max-width: 85%;
    padding: var(--space-sm) var(--space-md);
    font-size: 14px;
    line-height: 1.4;
    border-radius: 14px;
}

.mini-message.clara {
    align-self: flex-start;
    background-color: var(--bg-primary);
    color: var(--text-primary);
    border-radius: 14px 14px 14px 4px;
}

.mini-message.user {
    align-self: flex-end;
    background-color: var(--clara-blue);
    color: white;
    border-radius: 14px 14px 4px 14px;
}

.mini-typing {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 8px 12px;
}

.mini-typing span {
    width: 6px;
    height: 6px;
    background-color: var(--text-tertiary);
    border-radius: 50%;
    animation: miniTypingBounce 1.4s ease-in-out infinite;
}

.mini-typing span:nth-child(2) {
    animation-delay: 0.2s;
}

.mini-typing span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes miniTypingBounce {

    0%,
    60%,
    100% {
        transform: translateY(0);
        opacity: 0.4;
    }

    30% {
        transform: translateY(-4px);
        opacity: 1;
    }
}

.mini-clara-input-area {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    background-color: var(--bg-primary);
    border-top: 1px solid var(--bg-tertiary);
}

.mini-clara-input {
    flex: 1;
    height: 40px;
    padding: 0 var(--space-md);
    background-color: var(--bg-secondary);
    border: none;
    border-radius: var(--radius-full);
    font-size: 14px;
    color: var(--text-primary);
    outline: none;
}

.mini-clara-input::placeholder {
    color: var(--text-tertiary);
}

.mini-clara-send {
    width: 40px;
    height: 40px;
    background-color: var(--clara-blue);
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color var(--transition-fast);
}

.mini-clara-send:hover {
    background-color: var(--clara-blue-dark);
}

/* ========================================
   REPORT CARD - COMPANION MODE
   ======================================== */

.report-mini-status.sent {
    color: var(--success);
    font-weight: 500;
}

.report-mini-status.sent::before {
    content: ' ';
}

/* ========================================
   ER DASHBOARD
   ======================================== */

#er-dashboard {
    width: 480px;
    height: min(650px, calc(100vh - 140px)); /* Match phone frame scaling */
    background-color: var(--bg-primary);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-xl);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    transition: opacity var(--transition-slow), transform var(--transition-slow);
    flex-shrink: 0;
}

#er-dashboard.hidden {
    display: none;
}

/* Dashboard Header */
.dashboard-header {
    padding: var(--space-md) var(--space-lg);
    background: linear-gradient(135deg, #1a5276 0%, #2874a6 100%);
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.dashboard-header-main {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.dashboard-hospital-icon {
    font-size: 28px;
}

.dashboard-header-text {
    display: flex;
    flex-direction: column;
}

.dashboard-hospital-name {
    font-size: 18px;
    font-weight: 600;
    letter-spacing: -0.2px;
    margin: 0;
}

.dashboard-subtitle {
    font-size: 12px;
    opacity: 0.85;
}

.dashboard-live-indicator {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-full);
}

.live-dot {
    width: 8px;
    height: 8px;
    background-color: #2ecc71;
    border-radius: 50%;
    animation: livePulse 2s ease-in-out infinite;
}

@keyframes livePulse {

    0%,
    100% {
        opacity: 1;
        box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.5);
    }

    50% {
        opacity: 0.8;
        box-shadow: 0 0 0 4px rgba(46, 204, 113, 0);
    }
}

.live-text {
    font-size: 11px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Dashboard Controls (Filter/Sort) */
.dashboard-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-sm) var(--space-md);
    background-color: var(--bg-secondary);
    border-bottom: 1px solid var(--border-color);
}

.dashboard-filters {
    display: flex;
    gap: var(--space-xs);
}

.dashboard-filter-tab {
    padding: var(--space-xs) var(--space-sm);
    font-size: 12px;
    font-weight: 500;
    color: var(--text-secondary);
    background: var(--bg-tertiary);
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.dashboard-filter-tab:hover {
    color: var(--text-primary);
    background: #d5d5da;
}

.dashboard-filter-tab.active {
    color: white;
    background: var(--clara-blue);
}

.dashboard-sort {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.dashboard-sort label {
    font-size: 12px;
    color: var(--text-secondary);
}

.dashboard-sort select {
    padding: var(--space-xs) var(--space-sm);
    font-size: 12px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-sm);
    background: var(--bg-primary);
    cursor: pointer;
    outline: none;
}

.dashboard-sort select:focus {
    border-color: var(--clara-blue);
}

/* Dashboard Content */
.dashboard-content {
    flex: 1;
    overflow-y: auto;
    background-color: var(--bg-secondary);
}

.patient-list {
    padding: var(--space-md);
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

/* Patient Card */
.patient-card {
    background: var(--bg-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-md);
    box-shadow: var(--shadow-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
    border-left: 4px solid transparent;
}

.patient-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.patient-card.status-new {
    border-left-color: #e74c3c;
}

.patient-card.status-reviewing {
    border-left-color: #f39c12;
}

.patient-card.status-ready {
    border-left-color: #27ae60;
}

.patient-card.status-arrived {
    border-left-color: #3498db;
}

/* New patient highlight animation */
.patient-card.new-patient-highlight {
    animation: newPatientGlow 2s ease-out;
}

@keyframes newPatientGlow {
    0% {
        box-shadow: 0 0 0 0 rgba(231, 76, 60, 0.5);
    }

    50% {
        box-shadow: 0 0 20px 5px rgba(231, 76, 60, 0.3);
    }

    100% {
        box-shadow: var(--shadow-sm);
    }
}

.patient-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-xs);
}

.patient-status-btn {
    background: none;
    border: none;
    padding: 0;
    cursor: pointer;
    transition: transform var(--transition-fast);
}

.patient-status-btn:hover {
    transform: scale(1.05);
}

.patient-status-btn:active {
    transform: scale(0.98);
}

/* Status Badges */
.status-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 3px 8px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-radius: var(--radius-full);
    color: white;
}

.status-badge.status-new {
    background: #e74c3c;
}

.status-badge.status-reviewing {
    background: #f39c12;
}

.status-badge.status-ready {
    background: #27ae60;
}

.status-badge.status-arrived {
    background: #3498db;
}

.patient-eta {
    font-size: 12px;
    font-weight: 600;
    color: var(--text-secondary);
}

.patient-card-info {
    margin-bottom: var(--space-xs);
}

.patient-name-line {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
}

.patient-card-divider {
    height: 1px;
    background: var(--border-light);
    margin: var(--space-xs) 0;
}

.patient-card-complaint {
    font-size: 13px;
    color: var(--text-primary);
    line-height: 1.4;
    margin-bottom: var(--space-xs);
}

.patient-card-stats {
    display: flex;
    gap: var(--space-md);
    font-size: 12px;
    color: var(--text-secondary);
    margin-bottom: var(--space-xs);
}

.patient-pain {
    font-weight: 500;
}

.patient-pain.pain-low {
    color: #27ae60;
}

.patient-pain.pain-medium {
    color: #f39c12;
}

.patient-pain.pain-high {
    color: #e74c3c;
}

.patient-photos {
    color: var(--text-tertiary);
}

.patient-consciousness {
    color: var(--text-secondary);
}

.patient-consciousness.concerning {
    color: #e74c3c;
    font-weight: 500;
}

.patient-card-warnings {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-bottom: var(--space-xs);
}

.warning-flag {
    font-size: 11px;
    color: #c0392b;
    background: #fdeaea;
    padding: 2px 6px;
    border-radius: var(--radius-sm);
}

.warning-more {
    font-size: 11px;
    color: var(--text-tertiary);
}

.patient-card-action {
    display: flex;
    justify-content: flex-end;
}

.view-patient-btn {
    font-size: 12px;
    color: var(--clara-blue);
    font-weight: 500;
}

/* Dashboard Footer */
.dashboard-footer {
    padding: var(--space-sm) var(--space-md);
    background: var(--bg-secondary);
    border-top: 1px solid var(--border-color);
    text-align: center;
}

#patient-count {
    font-size: 12px;
    color: var(--text-secondary);
}

/* Dashboard Demo Controls */
.dashboard-demo-controls {
    display: flex;
    gap: var(--space-xs);
    padding: var(--space-sm) var(--space-md);
    background: var(--bg-tertiary);
    border-top: 1px solid var(--border-color);
}

.dashboard-demo-controls .demo-btn {
    flex: 1;
    padding: var(--space-xs) var(--space-sm);
    font-size: 11px;
    font-weight: 500;
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    background: var(--bg-primary);
    color: var(--text-secondary);
    transition: all var(--transition-fast);
}

.dashboard-demo-controls .demo-btn:hover {
    background: var(--clara-blue);
    color: white;
}

.dashboard-demo-controls .demo-btn.danger:hover {
    background: #e74c3c;
}

/* Dashboard Empty State */
.dashboard-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-2xl);
    text-align: center;
    height: 100%;
    min-height: 300px;
}

.dashboard-empty .empty-icon {
    font-size: 48px;
    margin-bottom: var(--space-md);
    opacity: 0.5;
}

.dashboard-empty h3 {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 var(--space-xs);
}

.dashboard-empty p {
    font-size: 13px;
    color: var(--text-secondary);
    margin: 0;
    line-height: 1.5;
}

/* Dashboard List View */
.dashboard-list-view {
    display: flex;
    flex-direction: column;
    height: 100%;
}

/* ========================================
   PATIENT DETAIL VIEW
   ======================================== */

.patient-detail-view {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: var(--bg-secondary);
}

/* Detail View Header */
.detail-view-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md) var(--space-lg);
    background: linear-gradient(135deg, #1a5276 0%, #2874a6 100%);
    color: white;
}

.detail-back-btn {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: rgba(255, 255, 255, 0.15);
    border: none;
    border-radius: var(--radius-md);
    color: white;
    font-size: 13px;
    cursor: pointer;
    transition: background var(--transition-fast);
}

.detail-back-btn:hover {
    background: rgba(255, 255, 255, 0.25);
}

.detail-view-title {
    font-size: 16px;
    font-weight: 600;
    margin: 0;
}

.detail-header-spacer {
    width: 100px;
}

/* Detail View Content */
.detail-view-content {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-md);
}

/* Detail Header Card */
.detail-header-card {
    background: var(--bg-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    margin-bottom: var(--space-md);
    box-shadow: var(--shadow-sm);
}

.detail-patient-info {
    margin-bottom: var(--space-md);
}

.detail-patient-main {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-xs);
}

.detail-patient-name {
    font-size: 22px;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0;
}

.detail-patient-demo {
    font-size: 14px;
    color: var(--text-secondary);
    margin: 0;
}

.detail-patient-meta {
    display: flex;
    gap: var(--space-lg);
    padding: var(--space-sm) 0;
    border-top: 1px solid var(--border-light);
    border-bottom: 1px solid var(--border-light);
    margin-bottom: var(--space-md);
}

.detail-meta-item {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.meta-icon {
    font-size: 14px;
}

.meta-value {
    font-size: 13px;
    color: var(--text-primary);
    font-weight: 500;
}

/* Status Workflow */
.detail-status-workflow {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    flex-wrap: wrap;
}

.detail-status-workflow label {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-secondary);
}

.status-select {
    padding: var(--space-xs) var(--space-sm);
    font-size: 13px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    background: var(--bg-primary);
    cursor: pointer;
    outline: none;
}

.status-select:focus {
    border-color: var(--clara-blue);
}

.status-pipeline {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: 11px;
    color: var(--text-tertiary);
}

.pipeline-step {
    padding: 2px 8px;
    border-radius: var(--radius-sm);
    background: var(--bg-tertiary);
}

.pipeline-step.active {
    background: var(--clara-blue);
    color: white;
    font-weight: 500;
}

.pipeline-step.completed {
    background: var(--success);
    color: white;
}

.pipeline-arrow {
    color: var(--text-tertiary);
}

/* Detail Sections */
.detail-section {
    background: var(--bg-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-md);
    margin-bottom: var(--space-md);
    box-shadow: var(--shadow-xs);
}

.detail-section-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid var(--border-light);
}

.section-icon {
    font-size: 16px;
}

.detail-section-header h3 {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

.detail-section-content {
    font-size: 14px;
    color: var(--text-primary);
}

/* Flags Section */
.flags-section {
    background: #fff8e6;
    border-left: 4px solid #f39c12;
}

.flags-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.flag-item {
    color: #8a6d3b;
    padding: var(--space-xs) 0;
    font-weight: 500;
}

/* Chief Complaint */
.chief-complaint-text {
    margin: 0;
    line-height: 1.6;
}

/* Pain Display */
.pain-display {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid var(--border-light);
}

.pain-label {
    font-size: 13px;
    color: var(--text-secondary);
    width: 60px;
}

.pain-bar-container {
    flex: 1;
    height: 12px;
    background: var(--bg-tertiary);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.pain-bar {
    height: 100%;
    border-radius: var(--radius-full);
    transition: width 0.3s ease;
}

.pain-bar.pain-low {
    background: linear-gradient(90deg, #27ae60, #2ecc71);
}

.pain-bar.pain-medium {
    background: linear-gradient(90deg, #f39c12, #f1c40f);
}

.pain-bar.pain-high {
    background: linear-gradient(90deg, #e74c3c, #c0392b);
}

.pain-value {
    font-size: 13px;
    font-weight: 600;
    min-width: 140px;
}

.pain-value.pain-low {
    color: #27ae60;
}

.pain-value.pain-medium {
    color: #f39c12;
}

.pain-value.pain-high {
    color: #e74c3c;
}

/* Assessment Fields */
.assessment-fields {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.assessment-row {
    display: flex;
    justify-content: space-between;
    padding: var(--space-xs) 0;
}

.assessment-label {
    color: var(--text-secondary);
    font-size: 13px;
}

.assessment-value {
    color: var(--text-primary);
    font-size: 13px;
    font-weight: 500;
    text-align: right;
    max-width: 60%;
}

/* History Fields */
.history-fields {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.history-row {
    display: flex;
    justify-content: space-between;
    padding: var(--space-xs) 0;
}

.history-label {
    color: var(--text-secondary);
    font-size: 13px;
}

.history-value {
    color: var(--text-primary);
    font-size: 13px;
    font-weight: 500;
    text-align: right;
    max-width: 60%;
}

/* Photos Section */
.photos-grid {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.photo-item {
    display: flex;
    gap: var(--space-md);
    padding: var(--space-sm);
    background: var(--bg-secondary);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: background var(--transition-fast);
}

.photo-item:hover {
    background: var(--bg-tertiary);
}

.photo-thumbnail {
    width: 80px;
    height: 80px;
    border-radius: var(--radius-md);
    overflow: hidden;
    flex-shrink: 0;
    background: var(--bg-tertiary);
    display: flex;
    align-items: center;
    justify-content: center;
}

.photo-thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.photo-placeholder {
    font-size: 24px;
    opacity: 0.5;
}

.photo-description {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.photo-text {
    font-size: 13px;
    color: var(--text-primary);
    margin: 0 0 var(--space-xs);
    font-style: italic;
}

.photo-attribution {
    font-size: 11px;
    color: var(--text-tertiary);
}

/* AI Section */
.ai-section {
    background: #f0f7ff;
    border-left: 4px solid var(--clara-blue);
}

.triage-content {
    margin-bottom: var(--space-sm);
}

.triage-content ul {
    margin: 0;
    padding-left: var(--space-lg);
}

.triage-content li {
    margin-bottom: var(--space-xs);
    line-height: 1.5;
}

.triage-content p {
    margin: 0 0 var(--space-xs);
    line-height: 1.5;
}

.triage-loading,
.triage-pending {
    color: var(--text-secondary);
    font-style: italic;
}

.triage-disclaimer {
    font-size: 11px;
    color: var(--text-tertiary);
    margin: var(--space-sm) 0 0;
    padding-top: var(--space-sm);
    border-top: 1px solid rgba(0, 0, 0, 0.05);
}

/* Notes Section */
.notes-input-wrapper {
    display: flex;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
}

.note-input {
    flex: 1;
    padding: var(--space-sm);
    font-size: 13px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    resize: none;
    font-family: inherit;
    outline: none;
}

.note-input:focus {
    border-color: var(--clara-blue);
}

.add-note-btn {
    padding: var(--space-sm) var(--space-md);
    font-size: 13px;
    font-weight: 500;
    background: var(--clara-blue);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: background var(--transition-fast);
}

.add-note-btn:hover {
    background: var(--clara-blue-dark);
}

.notes-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.no-notes {
    color: var(--text-tertiary);
    font-size: 13px;
    font-style: italic;
    margin: 0;
}

.note-item {
    padding: var(--space-sm);
    background: var(--bg-secondary);
    border-radius: var(--radius-md);
    border-left: 3px solid var(--clara-blue);
}

.note-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: var(--space-xs);
}

.note-number {
    font-size: 11px;
    font-weight: 600;
    color: var(--clara-blue);
    text-transform: uppercase;
}

.note-time {
    font-size: 11px;
    color: var(--text-tertiary);
}

.note-text {
    font-size: 13px;
    color: var(--text-primary);
    margin: 0;
    line-height: 1.5;
}

/* Notify Team Button */
.notify-team-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    width: 100%;
    padding: var(--space-md);
    font-size: 14px;
    font-weight: 500;
    background: var(--bg-primary);
    color: var(--text-primary);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-fast);
    margin-bottom: var(--space-md);
}

.notify-team-btn:hover {
    border-color: var(--clara-blue);
    color: var(--clara-blue);
    background: rgba(32, 160, 216, 0.05);
}

.notify-icon {
    font-size: 18px;
}

/* No Data Text */
.no-data {
    color: var(--text-tertiary);
    font-size: 13px;
    font-style: italic;
    margin: 0;
}

/* ========================================
   PHOTO MODAL
   ======================================== */

.photo-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-base);
}

.photo-modal.visible {
    opacity: 1;
    visibility: visible;
}

.photo-modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.9);
}

.photo-modal-content {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 90%;
    height: 90%;
    max-width: 900px;
}

.photo-modal-close {
    position: absolute;
    top: -40px;
    right: 0;
    width: 40px;
    height: 40px;
    background: none;
    border: none;
    color: white;
    font-size: 32px;
    cursor: pointer;
    opacity: 0.7;
    transition: opacity var(--transition-fast);
    z-index: 10;
}

.photo-modal-close:hover {
    opacity: 1;
}

.photo-modal-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 50px;
    height: 50px;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: 50%;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0.7;
    transition: all var(--transition-fast);
    z-index: 10;
}

.photo-modal-nav:hover {
    opacity: 1;
    background: rgba(255, 255, 255, 0.2);
}

.photo-nav-prev {
    left: -60px;
}

.photo-nav-next {
    right: -60px;
}

.photo-modal-image-container {
    max-width: 100%;
    max-height: calc(100% - 60px);
    display: flex;
    align-items: center;
    justify-content: center;
}

.photo-modal-image-container img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    border-radius: var(--radius-md);
}

.photo-modal-footer {
    position: absolute;
    bottom: -50px;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    color: white;
}

#photo-modal-counter {
    font-size: 12px;
    opacity: 0.7;
}

#photo-modal-description {
    font-size: 14px;
    margin: var(--space-xs) 0 0;
    max-width: 400px;
}

/* ========================================
   DASHBOARD TOAST
   ======================================== */

.dashboard-toast {
    position: absolute;
    bottom: 80px;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    background: var(--text-primary);
    color: white;
    padding: var(--space-sm) var(--space-lg);
    border-radius: var(--radius-full);
    font-size: 13px;
    font-weight: 500;
    box-shadow: var(--shadow-lg);
    opacity: 0;
    transition: all var(--transition-base);
    z-index: 100;
}

.dashboard-toast.visible {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

/* ========================================
   DASHBOARD HEADER RIGHT
   ======================================== */

.dashboard-header-right {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.dashboard-mute-btn {
    width: 32px;
    height: 32px;
    border: none;
    background: rgba(255, 255, 255, 0.15);
    border-radius: var(--radius-sm);
    font-size: 16px;
    cursor: pointer;
    transition: all var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
}

.dashboard-mute-btn:hover {
    background: rgba(255, 255, 255, 0.25);
}

/* ========================================
   DASHBOARD NOTIFICATIONS
   ======================================== */

#dashboard-notifications {
    position: absolute;
    top: 70px;
    right: 16px;
    z-index: 100;
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    pointer-events: none;
}

.dashboard-notification {
    background: white;
    border-radius: var(--radius-md);
    padding: var(--space-sm) var(--space-md);
    box-shadow: var(--shadow-lg);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    transform: translateX(120%);
    opacity: 0;
    transition: all 0.3s ease;
    pointer-events: auto;
    max-width: 280px;
}

.dashboard-notification.notification-visible {
    transform: translateX(0);
    opacity: 1;
}

.dashboard-notification-info {
    border-left: 4px solid var(--clara-blue);
}

.dashboard-notification-update {
    border-left: 4px solid #f39c12;
}

.dashboard-notification-warning {
    border-left: 4px solid #e74c3c;
}

.dashboard-notification-success {
    border-left: 4px solid #27ae60;
}

.notification-icon {
    font-size: 18px;
    flex-shrink: 0;
}

.notification-message {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-primary);
    line-height: 1.3;
}

/* ========================================
   NEW PATIENT CARD ANIMATION
   ======================================== */

@keyframes newPatientPulse {
    0% {
        transform: translateX(-20px);
        opacity: 0;
        box-shadow: 0 0 0 0 rgba(32, 160, 216, 0.5);
    }

    20% {
        transform: translateX(0);
        opacity: 1;
    }

    40%,
    60%,
    80% {
        box-shadow: 0 0 0 10px rgba(32, 160, 216, 0);
    }

    50%,
    70% {
        box-shadow: 0 0 0 5px rgba(32, 160, 216, 0.3);
    }

    100% {
        box-shadow: 0 0 0 0 rgba(32, 160, 216, 0);
    }
}

.patient-card-new {
    animation: newPatientPulse 2s ease-out;
}

/* Legacy highlight class */
.new-patient-highlight {
    animation: newPatientPulse 2s ease-out;
}

/* ========================================
   FIELD UPDATE HIGHLIGHT
   ======================================== */

@keyframes fieldHighlight {

    0%,
    100% {
        background-color: transparent;
    }

    50% {
        background-color: rgba(32, 160, 216, 0.2);
    }
}

.field-updated {
    animation: fieldHighlight 1s ease 3;
    border-radius: var(--radius-sm);
}

/* ========================================
   LIVE INDICATOR ENHANCED
   ======================================== */

@keyframes livePulseEnhanced {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
        box-shadow: 0 0 0 0 rgba(46, 204, 113, 0.5);
    }

    50% {
        opacity: 0.7;
        transform: scale(1.2);
        box-shadow: 0 0 0 6px rgba(46, 204, 113, 0);
    }
}

.dashboard-live-indicator .live-dot {
    animation: livePulseEnhanced 2s ease-in-out infinite;
}

/* Demo Controller Bar */
#demo-controller {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: var(--bg-secondary);
    border-top: 1px solid var(--bg-tertiary);
    padding: var(--space-md);
    z-index: 1000;
}

.controller-content {
    display: flex;
    gap: var(--space-sm);
    justify-content: center;
    align-items: center;
}

.controller-btn {
    padding: var(--space-sm) var(--space-md);
    border: none;
    border-radius: var(--radius-sm);
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
}

.controller-btn:hover {
    transform: translateY(-1px);
}

.controller-btn:active {
    transform: translateY(0) scale(0.98);
}

.controller-btn.primary {
    background-color: var(--clara-blue);
    color: white;
    box-shadow: var(--shadow-sm);
}

.controller-btn.primary:hover {
    background-color: var(--clara-blue-dark);
}

.controller-btn.secondary {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
}

.controller-btn.secondary:hover {
    background-color: #d5d5da;
}

.controller-btn.info {
    background-color: #4a90d9;
    color: white;
    box-shadow: var(--shadow-sm);
}

.controller-btn.info:hover {
    background-color: #3a7bc8;
}

/* Info Modal */
.info-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 2000;
    display: none;
}

.info-modal.visible {
    display: block;
}

.info-modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
}

.info-modal-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 600px;
    max-height: 80vh;
    background: var(--bg-primary);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-xl);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.info-modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-lg) var(--space-xl);
    background: linear-gradient(135deg, var(--clara-blue), var(--clara-blue-dark));
    color: white;
}

.info-modal-header h2 {
    margin: 0;
    font-size: 20px;
    font-weight: 600;
}

.info-modal-close {
    width: 32px;
    height: 32px;
    border: none;
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border-radius: 50%;
    font-size: 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background var(--transition-base);
}

.info-modal-close:hover {
    background: rgba(255, 255, 255, 0.3);
}

.info-modal-body {
    padding: var(--space-xl);
    overflow-y: auto;
    flex: 1;
}

.info-section {
    margin-bottom: var(--space-xl);
}

.info-section:last-child {
    margin-bottom: 0;
}

.info-section h3 {
    font-size: 16px;
    font-weight: 600;
    color: var(--clara-blue);
    margin: 0 0 var(--space-md) 0;
    padding-bottom: var(--space-sm);
    border-bottom: 2px solid var(--clara-blue-light);
}

.info-section p {
    font-size: 14px;
    line-height: 1.6;
    color: var(--text-primary);
    margin: 0 0 var(--space-md) 0;
}

.info-section ol,
.info-section ul {
    margin: 0;
    padding-left: var(--space-lg);
}

.info-section li {
    font-size: 14px;
    line-height: 1.8;
    color: var(--text-primary);
}

.button-explanations {
    list-style: none;
    padding: 0;
}

.button-explanations li {
    display: flex;
    flex-direction: column;
    padding: var(--space-md);
    background: var(--bg-secondary);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-sm);
}

.button-explanations .btn-name {
    font-weight: 600;
    color: var(--text-primary);
    font-size: 13px;
    margin-bottom: var(--space-xs);
}

.button-explanations .btn-desc {
    font-size: 13px;
    color: var(--text-secondary);
}

/* Rate Limit Modal */
.rate-limit-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 2000;
    display: none;
}

.rate-limit-modal.visible {
    display: block;
}

.rate-limit-modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
}

.rate-limit-modal-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    max-width: 400px;
    background: var(--bg-primary);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-xl);
    padding: var(--space-xl);
    text-align: center;
}

.rate-limit-icon {
    font-size: 48px;
    margin-bottom: var(--space-md);
}

.rate-limit-title {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 var(--space-md) 0;
}

.rate-limit-message {
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.6;
    margin: 0 0 var(--space-lg) 0;
}

.rate-limit-timer {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: var(--bg-secondary);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-lg);
}

.rate-limit-timer .timer-icon {
    font-size: 18px;
}

.rate-limit-timer .timer-text {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-primary);
}

.rate-limit-actions {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.rate-limit-btn {
    padding: var(--space-md) var(--space-lg);
    border: none;
    border-radius: var(--radius-md);
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-base);
}

.rate-limit-btn.primary {
    background-color: var(--clara-blue);
    color: white;
}

.rate-limit-btn.primary:hover {
    background-color: var(--clara-blue-dark);
}

.rate-limit-btn.secondary {
    background-color: var(--bg-secondary);
    color: var(--text-secondary);
}

.rate-limit-btn.secondary:hover {
    background-color: var(--bg-tertiary);
}

/* Limited Mode Toast */
.limited-mode-toast {
    position: fixed;
    bottom: 80px;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    background: var(--text-primary);
    color: white;
    padding: var(--space-sm) var(--space-lg);
    border-radius: var(--radius-full);
    font-size: 13px;
    font-weight: 500;
    box-shadow: var(--shadow-lg);
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-base);
    z-index: 1500;
}

.limited-mode-toast.visible {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(0);
}

/* Recommended Tag in Mode Title */
.recommended-tag {
    display: inline-block;
    padding: 2px 8px;
    background-color: var(--clara-blue);
    color: white;
    font-size: 10px;
    font-weight: 600;
    border-radius: var(--radius-full);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-left: var(--space-xs);
    vertical-align: middle;
}

/* Demo Voice Selector */
.demo-voice-selector {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: 0 var(--space-sm);
}

.demo-voice-selector label {
    font-size: 12px;
    color: var(--text-secondary);
}

.demo-voice-selector select {
    padding: var(--space-xs) var(--space-sm);
    font-size: 12px;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-sm);
    background: var(--bg-primary);
    cursor: pointer;
    outline: none;
}

.demo-voice-selector select:focus {
    border-color: var(--clara-blue);
}

/* Placeholder Text */
.placeholder-text {
    color: var(--text-secondary);
    font-size: 14px;
    text-align: center;
}

/* Responsive Adjustments */
@media (max-width: 1024px) {
    #er-dashboard {
        width: 380px;
    }
}

@media (max-width: 900px) {
    #main-container {
        flex-direction: column;
        height: auto;
        min-height: calc(100vh - 100px);
        overflow-y: auto;
    }

    #phone-frame {
        height: 600px;
    }

    #er-dashboard {
        width: 375px;
        height: 500px;
        max-width: 100%;
    }
}

/* ========================================
   PHOTO CAPTURE STYLES
   ======================================== */

/* Photo Button - Text Mode */
.photo-btn {
    width: 40px;
    height: 40px;
    background-color: var(--bg-secondary);
    color: var(--text-secondary);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all var(--transition-base);
    flex-shrink: 0;
}

.photo-btn:hover {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
}

.photo-btn:active {
    transform: scale(0.95);
}

.photo-btn svg {
    width: 18px;
    height: 18px;
}

/* Voice Top Bar - Three column layout */
.voice-top-bar {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: var(--space-md) var(--space-lg);
    padding-top: calc(var(--space-md) + 50px);
    /* More space below 911 button */
    gap: var(--space-sm);
}

.voice-top-left {
    flex: 1;
    display: flex;
    justify-content: flex-start;
}

.voice-top-center {
    flex: 1;
    display: flex;
    justify-content: center;
}

.voice-top-right {
    flex: 1;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: var(--space-sm);
}

/* Voice Photo Button - Positioned above the report bar */
.voice-photo-btn {
    position: absolute;
    right: 20px;
    bottom: 100px;
    /* Above the "hold to view" report bar with spacing */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    padding: var(--space-sm) var(--space-md);
    background-color: var(--bg-secondary);
    color: var(--text-secondary);
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-base);
    z-index: 10;
}

.voice-photo-btn:hover {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
}

.voice-photo-btn:active {
    transform: scale(0.95);
}

.voice-photo-btn svg {
    width: 20px;
    height: 20px;
}

.voice-photo-btn .photo-btn-label {
    font-size: 11px;
    font-weight: 500;
}

/* Voice View Report button spacing in top bar */
.voice-top-bar .voice-view-report-btn {
    flex-shrink: 0;
}

/* ========================================
   PHOTO ACTION SHEET
   ======================================== */

.photo-action-sheet {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 300;
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-base), visibility var(--transition-base);
}

.photo-action-sheet.visible {
    opacity: 1;
    visibility: visible;
}

.action-sheet-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.4);
}

.action-sheet-content {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: var(--bg-primary);
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    padding: var(--space-md);
    padding-bottom: calc(var(--space-md) + 20px);
    transform: translateY(100%);
    transition: transform var(--transition-slow);
}

.photo-action-sheet.visible .action-sheet-content {
    transform: translateY(0);
}

.action-sheet-header {
    text-align: center;
    font-size: 13px;
    font-weight: 500;
    color: var(--text-secondary);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid var(--bg-tertiary);
}

.action-sheet-btn {
    width: 100%;
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-md);
    background-color: var(--bg-secondary);
    border: none;
    border-radius: var(--radius-md);
    font-size: 16px;
    font-weight: 500;
    color: var(--text-primary);
    cursor: pointer;
    transition: background-color var(--transition-fast);
    margin-bottom: var(--space-sm);
}

.action-sheet-btn:hover {
    background-color: var(--bg-tertiary);
}

.action-sheet-btn:active {
    transform: scale(0.98);
}

.action-sheet-btn .action-icon {
    font-size: 20px;
}

.action-sheet-btn.cancel {
    background-color: transparent;
    color: var(--text-secondary);
    justify-content: center;
    margin-top: var(--space-sm);
}

.action-sheet-btn.cancel:hover {
    background-color: var(--bg-secondary);
}

/* ========================================
   PHOTO PREVIEW MODAL
   ======================================== */

.photo-preview-modal {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 350;
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-base), visibility var(--transition-base);
}

.photo-preview-modal.visible {
    opacity: 1;
    visibility: visible;
}

.preview-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.8);
}

.preview-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: calc(100% - 40px);
    max-width: 350px;
    background-color: var(--bg-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-md);
    text-align: center;
}

.preview-image {
    width: 100%;
    max-height: 300px;
    object-fit: contain;
    border-radius: var(--radius-md);
    background-color: var(--bg-secondary);
}

.preview-prompt {
    font-size: 16px;
    font-weight: 500;
    color: var(--text-primary);
    margin: var(--space-md) 0;
}

.preview-actions {
    display: flex;
    gap: var(--space-sm);
}

.preview-btn {
    flex: 1;
    padding: var(--space-md);
    border: none;
    border-radius: var(--radius-md);
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-base);
}

.preview-btn.primary {
    background-color: var(--clara-blue);
    color: white;
}

.preview-btn.primary:hover {
    background-color: var(--clara-blue-dark);
}

.preview-btn.secondary {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
}

.preview-btn.secondary:hover {
    background-color: var(--bg-tertiary);
}

.preview-btn:active {
    transform: scale(0.98);
}

/* ========================================
   PHOTO VIEWER MODAL (Full Size)
   ======================================== */

.photo-viewer-modal {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 400;
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--transition-base), visibility var(--transition-base);
}

.photo-viewer-modal.visible {
    opacity: 1;
    visibility: visible;
}

.viewer-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.9);
}

.viewer-content {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-lg);
}

.viewer-close-btn {
    position: absolute;
    top: var(--space-md);
    right: var(--space-md);
    width: 40px;
    height: 40px;
    background-color: rgba(255, 255, 255, 0.2);
    color: white;
    border: none;
    border-radius: 50%;
    font-size: 24px;
    font-weight: 300;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color var(--transition-fast);
    z-index: 10;
}

.viewer-close-btn:hover {
    background-color: rgba(255, 255, 255, 0.3);
}

.viewer-image {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    border-radius: var(--radius-sm);
}

/* ========================================
   PHOTO IN CHAT
   ======================================== */

.photo-message {
    padding: var(--space-xs);
    background-color: transparent;
    box-shadow: none;
}

.photo-message.user {
    background-color: transparent;
}

.chat-photo-thumbnail {
    max-width: 180px;
    max-height: 180px;
    width: auto;
    height: auto;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    box-shadow: var(--shadow-sm);
}

.chat-photo-thumbnail:hover {
    transform: scale(1.02);
    box-shadow: var(--shadow-md);
}

.chat-photo-thumbnail:active {
    transform: scale(0.98);
}

/* ========================================
   PHOTOS IN REPORT CARD
   ======================================== */

.report-photos-section {
    padding: var(--space-md) var(--space-lg);
    border-bottom: 1px solid var(--bg-tertiary);
}

.report-photos-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-sm);
}

.report-photos-label {
    font-size: 11px;
    font-weight: 500;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.report-photos-count {
    font-size: 12px;
    color: var(--text-secondary);
    background-color: var(--bg-secondary);
    padding: 2px 8px;
    border-radius: var(--radius-full);
}

.report-photos-grid {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
}

.report-photo-thumb {
    width: 60px;
    height: 60px;
    border-radius: var(--radius-sm);
    object-fit: cover;
    cursor: pointer;
    transition: transform var(--transition-fast);
    box-shadow: var(--shadow-xs);
}

.report-photo-thumb:hover {
    transform: scale(1.05);
}

.report-photos-empty {
    font-size: 13px;
    color: var(--text-tertiary);
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.report-photos-empty-icon {
    font-size: 16px;
}

/* ========================================
   MODE SELECTION SCREEN
   ======================================== */

#mode-selection-screen {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: var(--space-md) var(--space-lg);
    background: linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
    overflow: hidden;
}

/* Smaller logo specifically for mode selection screen */
#mode-selection-screen .clara-logo .logo-icon {
    width: 100px;
    height: 100px;
    margin-top: 0;
    margin-bottom: var(--space-xs);
}

#mode-selection-screen .clara-logo {
    margin-bottom: var(--space-sm);
}

#mode-selection-screen .clara-logo h1 {
    font-size: 32px;
}

.mode-selection-content {
    text-align: center;
    width: 100%;
    max-width: 340px;
    flex-shrink: 0;
}

.mode-selection-logo {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: var(--space-md);
}

.mode-selection-logo .logo-icon {
    width: 100px;
    height: 100px;
    margin-bottom: var(--space-xs);
}

.mode-selection-logo h1 {
    font-size: 32px;
    font-weight: 700;
    color: var(--clara-blue);
    margin-bottom: 2px;
    letter-spacing: -1px;
}

.mode-selection-logo .tagline {
    font-size: 13px;
    color: var(--text-secondary);
}

.mode-selection-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--space-md);
}

.mode-selection-subtitle {
    font-size: 15px;
    color: var(--text-secondary);
    margin-bottom: var(--space-sm);
}

.mode-options,
.mode-selection-options {
    display: flex;
    flex-direction: column;
    gap: 6px;
}

.mode-option-btn {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    width: 100%;
    padding: 6px var(--space-md);
    background-color: var(--bg-primary);
    border: 2px solid var(--bg-tertiary);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-base);
    text-align: left;
    position: relative;
}

.mode-option-btn:hover {
    border-color: var(--clara-blue);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.mode-option-btn:active {
    transform: translateY(0);
    box-shadow: var(--shadow-sm);
}

.mode-option-btn.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

.mode-option-btn.recommended {
    border-color: var(--clara-blue);
    background: linear-gradient(135deg, var(--clara-blue-light) 0%, var(--bg-primary) 100%);
}

.mode-option-btn.recommended::after {
    content: 'Recommended';
    position: absolute;
    top: -8px;
    right: 16px;
    background-color: var(--clara-blue);
    color: white;
    font-size: 10px;
    font-weight: 600;
    padding: 2px 8px;
    border-radius: var(--radius-full);
}

.mode-icon-wrapper {
    width: 40px;
    height: 40px;
    background-color: var(--bg-secondary);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    flex-shrink: 0;
}

.mode-option-btn.recommended .mode-icon-wrapper {
    background-color: var(--clara-blue);
    color: white;
}

.mode-text,
.mode-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.mode-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1px;
}

.mode-subtitle {
    font-size: 12px;
    color: var(--text-secondary);
}

.mode-meta {
    font-size: 10px;
    color: var(--text-tertiary);
    margin-top: 1px;
}

.mode-icon {
    font-size: 24px;
    width: 40px;
    text-align: center;
    flex-shrink: 0;
}

.mode-arrow {
    font-size: 18px;
    color: var(--text-tertiary);
}

.mode-selection-footer {
    margin-top: var(--space-md);
    padding-top: var(--space-sm);
}

.competition-badge {
    font-size: 12px;
    color: var(--text-tertiary);
}

/* ========================================
   API KEY INPUT SCREEN
   ======================================== */

#api-key-screen {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: var(--space-2xl) var(--space-lg);
    background: linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
}

.api-key-content {
    text-align: center;
    width: 100%;
    max-width: 320px;
}

.api-key-header {
    margin-bottom: var(--space-xl);
}

.api-key-icon {
    font-size: 48px;
    margin-bottom: var(--space-md);
}

.api-key-title {
    font-size: 24px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
}

.api-key-subtitle {
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.5;
}

#api-key-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

#api-key-input {
    width: 100%;
    padding: var(--space-md);
    font-size: 16px;
    border: 2px solid var(--bg-tertiary);
    border-radius: var(--radius-md);
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: all var(--transition-base);
}

#api-key-input:focus {
    outline: none;
    border-color: var(--clara-blue);
    box-shadow: 0 0 0 3px rgba(32, 160, 216, 0.15);
}

#api-key-input.shake {
    animation: shake 0.5s ease;
}

@keyframes shake {

    0%,
    100% {
        transform: translateX(0);
    }

    20%,
    60% {
        transform: translateX(-8px);
    }

    40%,
    80% {
        transform: translateX(8px);
    }
}

#api-key-error {
    font-size: 13px;
    color: var(--danger);
    display: none;
    text-align: left;
}

#api-key-error.visible {
    display: block;
}

#api-key-submit {
    width: 100%;
    padding: var(--space-md);
    font-size: 16px;
    font-weight: 600;
    background-color: var(--clara-blue);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-base);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
}

#api-key-submit:hover {
    background-color: var(--clara-blue-dark);
}

#api-key-submit:disabled {
    opacity: 0.7;
    cursor: not-allowed;
}

.api-key-help {
    margin-top: var(--space-lg);
    padding-top: var(--space-lg);
    border-top: 1px solid var(--bg-tertiary);
}

.api-key-help-link {
    font-size: 13px;
    color: var(--clara-blue);
    text-decoration: none;
}

.api-key-help-link:hover {
    text-decoration: underline;
}

.api-key-back-btn {
    margin-top: var(--space-md);
    padding: var(--space-sm) var(--space-md);
    font-size: 14px;
    color: var(--text-secondary);
    background: none;
    border: none;
    cursor: pointer;
}

.api-key-back-btn:hover {
    color: var(--text-primary);
}

.api-key-security {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    margin-top: var(--space-lg);
    font-size: 12px;
    color: var(--text-tertiary);
}

.security-icon {
    font-size: 14px;
}

.api-key-link {
    display: inline-block;
    margin-top: var(--space-sm);
    font-size: 14px;
    color: var(--clara-blue);
    text-decoration: none;
    font-weight: 500;
}

.api-key-link:hover {
    text-decoration: underline;
}

/* API Key Success State */
.api-key-success {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-xl);
}

.api-key-success .success-icon {
    width: 60px;
    height: 60px;
    background-color: var(--success);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 28px;
    font-weight: bold;
    animation: scaleIn 0.3s ease;
}

.api-key-success .success-text {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
}

.api-key-success .success-subtext {
    font-size: 14px;
    color: var(--text-secondary);
}

@keyframes scaleIn {
    0% {
        transform: scale(0);
    }

    50% {
        transform: scale(1.2);
    }

    100% {
        transform: scale(1);
    }
}

/* Spinner for loading state */
.spinner {
    width: 18px;
    height: 18px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* ========================================
   MODE INDICATOR (In Header)
   ======================================== */

#mode-indicator {
    display: none;
    position: absolute;
    top: 8px;
    right: 16px;
    z-index: 100;
}

.mode-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 10px;
    font-size: 11px;
    font-weight: 600;
    border-radius: var(--radius-full);
    letter-spacing: 0.3px;
}

.demo-badge {
    background-color: #FFE8D6;
    color: #D4520E;
}

.limited-badge {
    background-color: var(--clara-blue-light);
    color: var(--clara-blue-dark);
}

.unlimited-badge {
    background-color: #E8F5E9;
    color: #2E7D32;
}

/* ========================================
   DEMO PROMPT AREA
   ======================================== */

#demo-prompt-area {
    position: absolute;
    bottom: 56px;
    left: 0;
    right: 0;
    background-color: var(--bg-primary);
    border-top: none;
    padding: 0;
    max-height: 0;
    overflow: hidden;
    transition: all var(--transition-base);
    z-index: 20;
}

#demo-prompt-area.visible {
    padding: var(--space-md);
    max-height: 200px;
    border-top: 1px solid var(--bg-tertiary);
}

.demo-prompt {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.demo-prompt-label {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.demo-prompt-text {
    font-size: 15px;
    color: var(--text-primary);
    font-style: italic;
    padding: var(--space-sm) var(--space-md);
    background-color: var(--bg-secondary);
    border-radius: var(--radius-md);
    border-left: 3px solid var(--clara-blue);
}

.demo-prompt-buttons {
    display: flex;
    gap: var(--space-sm);
    margin-top: var(--space-xs);
}

.demo-next-btn {
    flex: 1;
    padding: var(--space-sm) var(--space-md);
    font-size: 14px;
    font-weight: 600;
    background-color: var(--clara-blue);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-base);
}

.demo-next-btn:hover {
    background-color: var(--clara-blue-dark);
}

.demo-auto-btn {
    padding: var(--space-sm) var(--space-md);
    font-size: 14px;
    font-weight: 500;
    background-color: var(--bg-secondary);
    color: var(--text-secondary);
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-base);
}

.demo-auto-btn:hover {
    background-color: var(--bg-tertiary);
    color: var(--text-primary);
}

/* Demo Photo Placeholder */
.demo-photo-placeholder {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    background-color: var(--bg-secondary);
    border-radius: var(--radius-md);
}

.demo-photo-icon {
    font-size: 24px;
}

.demo-photo-text {
    font-size: 14px;
    color: var(--text-secondary);
}

/* ========================================
   DEMO OPTIONS PANEL (Left Side)
   ======================================== */

.demo-options-panel {
    position: fixed;
    right: calc(50% + 207px); /* Position just to the left of the centered phone (375px/2 + 20px gap) */
    top: 50%;
    transform: translateY(-50%);
    width: 280px;
    background-color: var(--bg-primary);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
    overflow: hidden;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-slow);
    z-index: 100;
}

.demo-options-panel.visible {
    opacity: 1;
    visibility: visible;
}

.demo-panel-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md) var(--space-lg);
    background: linear-gradient(135deg, var(--clara-blue), var(--clara-blue-dark));
    color: white;
}

.demo-panel-icon {
    font-size: 20px;
}

.demo-panel-title {
    font-size: 14px;
    font-weight: 600;
    letter-spacing: 0.5px;
}

.demo-panel-content {
    padding: var(--space-lg);
}

.demo-option-card {
    background-color: var(--bg-secondary);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    cursor: pointer;
    transition: all var(--transition-base);
    border: 2px solid transparent;
}

.demo-option-card:hover {
    background-color: var(--clara-blue-light);
    border-color: var(--clara-blue);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.demo-option-card:active {
    transform: translateY(0);
}

.demo-option-label {
    font-size: 11px;
    font-weight: 600;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: var(--space-sm);
}

.demo-option-text {
    font-size: 15px;
    color: var(--text-primary);
    font-style: italic;
    line-height: 1.5;
}

.demo-option-hint {
    font-size: 12px;
    color: var(--clara-blue);
    font-weight: 600;
    margin-top: var(--space-md);
    text-align: right;
}

.demo-controls {
    margin-top: var(--space-md);
    display: flex;
    justify-content: center;
}

.demo-controls .demo-auto-btn {
    width: 100%;
}

/* Hide demo options panel on small screens */
@media (max-width: 900px) {
    .demo-options-panel {
        display: none;
    }
}

/* ========================================
   DEMO COMPLETE MODAL
   ======================================== */

.demo-complete-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.demo-complete-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
}

.demo-complete-content {
    position: relative;
    background-color: var(--bg-primary);
    padding: var(--space-xl);
    border-radius: var(--radius-xl);
    text-align: center;
    max-width: 320px;
    margin: var(--space-lg);
    box-shadow: var(--shadow-xl);
    animation: slideUp 0.3s ease;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.demo-complete-icon {
    font-size: 48px;
    margin-bottom: var(--space-md);
}

.demo-complete-title {
    font-size: 22px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
}

.demo-complete-message {
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.5;
    margin-bottom: var(--space-lg);
}

.demo-complete-buttons {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.demo-complete-btn {
    width: 100%;
    padding: var(--space-md);
    font-size: 15px;
    font-weight: 600;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-base);
}

.demo-complete-btn.primary {
    background-color: var(--clara-blue);
    color: white;
}

.demo-complete-btn.primary:hover {
    background-color: var(--clara-blue-dark);
}

.demo-complete-btn.secondary {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
}

.demo-complete-btn.secondary:hover {
    background-color: var(--bg-tertiary);
}

/* ========================================
   APP MODAL (Generic)
   ======================================== */

.app-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.app-modal-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
}

.app-modal-content {
    position: relative;
    background-color: var(--bg-primary);
    padding: var(--space-xl);
    border-radius: var(--radius-xl);
    text-align: center;
    max-width: 320px;
    margin: var(--space-lg);
    box-shadow: var(--shadow-xl);
    animation: slideUp 0.3s ease;
}

.app-modal-icon {
    font-size: 48px;
    margin-bottom: var(--space-md);
}

.app-modal-title {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
}

.app-modal-message {
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.5;
    margin-bottom: var(--space-lg);
}

.app-modal-buttons {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.app-modal-btn {
    width: 100%;
    padding: var(--space-md);
    font-size: 15px;
    font-weight: 600;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-base);
}

.app-modal-btn.primary {
    background-color: var(--clara-blue);
    color: white;
}

.app-modal-btn.primary:hover {
    background-color: var(--clara-blue-dark);
}

.app-modal-btn.secondary {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
}

.app-modal-btn.secondary:hover {
    background-color: var(--bg-tertiary);
}

/* ========================================
   RETURNING USER MODAL
   ======================================== */

.returning-user-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.returning-user-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0, 0, 0, 0.5);
}

.returning-user-content {
    position: relative;
    background-color: var(--bg-primary);
    padding: var(--space-xl);
    border-radius: var(--radius-xl);
    text-align: center;
    max-width: 320px;
    margin: var(--space-lg);
    box-shadow: var(--shadow-xl);
    animation: slideUp 0.3s ease;
}

.returning-user-icon {
    font-size: 48px;
    margin-bottom: var(--space-md);
}

.returning-user-title {
    font-size: 20px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: var(--space-sm);
}

.returning-user-message {
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.5;
    margin-bottom: var(--space-lg);
}

.returning-user-buttons {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.returning-user-btn {
    width: 100%;
    padding: var(--space-md);
    font-size: 15px;
    font-weight: 600;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-base);
}

.returning-user-btn.primary {
    background-color: var(--clara-blue);
    color: white;
}

.returning-user-btn.primary:hover {
    background-color: var(--clara-blue-dark);
}

.returning-user-btn.secondary {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
}

/* ========================================
   FINAL POLISH - ANIMATIONS & EFFECTS
   ======================================== */

/* Chat message slide-in animation */
@keyframes messageSlideIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.chat-message {
    animation: messageSlideIn 0.3s ease forwards;
}

/* Enhanced typing indicator */
@keyframes typingDot {

    0%,
    60%,
    100% {
        transform: translateY(0);
        opacity: 0.5;
    }

    30% {
        transform: translateY(-4px);
        opacity: 1;
    }
}

.typing-indicator .dot {
    animation: typingDot 1.4s ease infinite;
}

.typing-indicator .dot:nth-child(2) {
    animation-delay: 0.2s;
}

.typing-indicator .dot:nth-child(3) {
    animation-delay: 0.4s;
}

/* Button ripple effect */
.mode-option-btn,
.welcome-mode-btn,
.btn-primary {
    position: relative;
    overflow: hidden;
}

.mode-option-btn:active::after,
.welcome-mode-btn:active::after,
.btn-primary:active::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200px;
    height: 200px;
    background: rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    transform: translate(-50%, -50%) scale(0);
    animation: ripple 0.6s ease-out;
}

@keyframes ripple {
    to {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0;
    }
}

/* Field notification animation */
@keyframes fieldNotification {
    0% {
        opacity: 0;
        transform: translateX(-10px);
    }

    20% {
        opacity: 1;
        transform: translateX(0);
    }

    80% {
        opacity: 1;
        transform: translateX(0);
    }

    100% {
        opacity: 0;
        transform: translateX(10px);
    }
}

.field-notification {
    animation: fieldNotification 3s ease forwards;
}

/* Error toast */
.error-toast {
    position: fixed;
    bottom: 100px;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    background: var(--danger);
    color: white;
    padding: 12px 20px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 4px 20px rgba(255, 59, 48, 0.3);
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 10000;
}

.error-toast.visible {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

.error-dismiss {
    background: none;
    border: none;
    color: white;
    opacity: 0.7;
    cursor: pointer;
    padding: 4px;
    font-size: 16px;
}

.error-dismiss:hover {
    opacity: 1;
}

/* Success toast */
.success-toast {
    position: fixed;
    bottom: 100px;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    background: var(--success);
    color: white;
    padding: 12px 20px;
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 4px 20px rgba(52, 199, 89, 0.3);
    opacity: 0;
    transition: all 0.3s ease;
    z-index: 10000;
}

.success-toast.visible {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

/* Loading spinner */
.spinner {
    width: 20px;
    height: 20px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    display: inline-block;
}

.spinner-dark {
    border-color: rgba(0, 0, 0, 0.1);
    border-top-color: var(--clara-blue);
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Button loading state */
.btn-loading {
    pointer-events: none;
    opacity: 0.8;
}

.btn-loading .spinner {
    margin-right: 8px;
}

/* Screen reader only */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Focus styles for accessibility */
*:focus-visible {
    outline: 2px solid var(--clara-blue);
    outline-offset: 2px;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Selection color */
::selection {
    background: var(--clara-blue);
    color: white;
}

/* Scrollbar styling */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: var(--bg-tertiary);
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-tertiary);
}

/* Offline indicator */
body.offline::after {
    content: 'You are offline';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: var(--warning);
    color: var(--text-primary);
    text-align: center;
    padding: 8px;
    font-size: 14px;
    font-weight: 500;
    z-index: 10001;
}

/* Competition badge */
.competition-badge {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-top: var(--space-lg);
    padding: var(--space-sm) var(--space-md);
    background: linear-gradient(135deg, rgba(32, 160, 216, 0.1), rgba(52, 199, 89, 0.1));
    border-radius: var(--radius-full);
    font-size: 12px;
    color: var(--text-secondary);
}

.competition-badge span {
    font-size: 14px;
}